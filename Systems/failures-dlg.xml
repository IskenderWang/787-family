<?xml version="1.0" encoding="UTF-8"?>

<PropertyList>

    <name>failures</name>
    <layout>vbox</layout>

    <text>
        <label>Simulate System Failures</label>
    </text>

    <hrule />
    <group>
        <layout>vbox</layout>

        <text>
            <label>Engine Failures</label>
        </text>

        <group>
            <layout>hbox</layout>

            <group>
                <layout>vbox</layout>

                <text>
                    <label>Left Engine</label>
                </text>

                <button>
                    <legend>Flame-out</legend>
                    <padding>1</padding>
                    <binding>
                        <command>nasal</command>
                        <script>
								setprop("/controls/engines/engine[0]/cutoff", 1);
							</script>
                    </binding>
                </button>

                <button>
                    <legend>Fail</legend>
                    <padding>1</padding>
                    <binding>
                        <command>nasal</command>
                        <script>
								setprop("/sim/failure-manager/engines/engine/serviceable", 0);
							</script>
                    </binding>
                </button>

                <button>
                    <legend>Fire</legend>
                    <padding>1</padding>
                    <binding>
                        <command>nasal</command>
                        <script>
								setprop("/controls/fires/fire/on-fire", 1);
							</script>
                    </binding>
                </button>

            </group>

            <vrule />

            <group>
                <layout>vbox</layout>

                <text>
                    <label>Right Engine</label>
                </text>

                <button>
                    <legend>Flame-out</legend>
                    <padding>1</padding>
                    <binding>
                        <command>nasal</command>
                        <script>
								setprop("/controls/engines/engine[1]/cutoff", 1);
							</script>
                    </binding>
                </button>

                <button>
                    <legend>Fail</legend>
                    <padding>1</padding>
                    <binding>
                        <command>nasal</command>
                        <script>
								setprop("/sim/failure-manager/engines/engine[1]/serviceable", 0);
							</script>
                    </binding>
                </button>

                <button>
                    <legend>Fire</legend>
                    <padding>1</padding>
                    <binding>
                        <command>nasal</command>
                        <script>
								setprop("/controls/fires/fire[1]/on-fire", 1);
							</script>
                    </binding>
                </button>

            </group>

        </group>

        <hrule />

        <text>
            <label>Gear Failures</label>
        </text>

        <group>
            <layout>hbox</layout>

            <group>
                <layout>vbox</layout>
                <text>
                    <label>Left Gear</label>
                </text>

                <button>
                    <legend>Burst Tyres</legend>
                    <padding>1</padding>
                    <binding>
                        <command>nasal</command>
                        <script>
							setprop("/controls/gear-failures/gear[1]/burst", 1);
						</script>
                    </binding>
                </button>

                <button>
                    <legend>Break Off</legend>
                    <padding>1</padding>
                    <binding>
                        <command>nasal</command>
                        <script>
							setprop("/controls/gear-failures/gear[1]/break", 1);
						</script>
                    </binding>
                </button>

                <button>
                    <legend>Stuck Gear</legend>
                    <padding>1</padding>
                    <binding>
                        <command>nasal</command>
                        <script>
							setprop("/controls/gear-failures/gear[1]/stuck-pos", 1);
						</script>
                    </binding>
                </button>

            </group>

            <vrule />

            <group>
                <layout>vbox</layout>
                <text>
                    <label>Nose Gear</label>
                </text>

                <button>
                    <legend>Burst Tyres</legend>
                    <padding>1</padding>
                    <binding>
                        <command>nasal</command>
                        <script>
							setprop("/controls/gear-failures/gear[0]/burst", 1);
						</script>
                    </binding>
                </button>

                <button>
                    <legend>Break Off</legend>
                    <padding>1</padding>
                    <binding>
                        <command>nasal</command>
                        <script>
							setprop("/controls/gear-failures/gear[0]/break", 1);
						</script>
                    </binding>
                </button>

                <button>
                    <legend>Stuck Gear</legend>
                    <padding>1</padding>
                    <binding>
                        <command>nasal</command>
                        <script>
							setprop("/controls/gear-failures/gear[0]/stuck-pos", 1);
						</script>
                    </binding>
                </button>

            </group>

            <vrule />

            <group>
                <layout>vbox</layout>
                <text>
                    <label>Right Gear</label>
                </text>

                <button>
                    <legend>Burst Tyres</legend>
                    <padding>1</padding>
                    <binding>
                        <command>nasal</command>
                        <script>
							setprop("/controls/gear-failures/gear[2]/burst", 1);
						</script>
                    </binding>
                </button>

                <button>
                    <legend>Break Off</legend>
                    <padding>1</padding>
                    <binding>
                        <command>nasal</command>
                        <script>
							setprop("/controls/gear-failures/gear[2]/break", 1);
						</script>
                    </binding>
                </button>

                <button>
                    <legend>Stuck Gear</legend>
                    <padding>1</padding>
                    <binding>
                        <command>nasal</command>
                        <script>
							setprop("/controls/gear-failures/gear[2]/stuck-pos", 1);
						</script>
                    </binding>
                </button>

            </group>

        </group>

        <hrule />

        <text>
            <label>Anti-Ice System Failures</label>
        </text>

        <group>
            <layout>hbox</layout>

            <group>
                <layout>vbox</layout>

                <!-- Windscreen primary -->
                <group>
                    <layout>vbox</layout>
                    <text>
                        <label>Windscreen Primary</label>
                    </text>

                    <text>
                        <property>controls/ice/windscreen/primary-legend</property>
                        <live>true</live>
                        <halign>center</halign>
                    </text>

                    <button>
                        <legend>Fail system</legend>
                        <padding>1</padding>
                        <binding>
                            <command>nasal</command>
                            <script>
                                setprop(
                                    "controls/ice/windscreen/primary-serviceable",
                                    !getprop("controls/ice/windscreen/primary-serviceable")
                                );

                                if (getprop("controls/ice/windscreen/primary-serviceable") == 0)
                                    setprop("controls/ice/windscreen/primary-legend", "FAILED");
                                else
                                    setprop("controls/ice/windscreen/primary-legend", "AVAILABLE");
                            </script>
                        </binding>
                    </button>
                </group>

                <!-- Windscreen backup -->
                <group>
                    <layout>vbox</layout>
                    <text>
                        <label>Windscreen Backup</label>
                    </text>

                    <text>
                        <property>controls/ice/windscreen/backup-legend</property>
                        <live>true</live>
                        <halign>center</halign>
                    </text>

                    <button>
                        <legend>Fail system</legend>
                        <padding>1</padding>
                        <binding>
                            <command>nasal</command>
                            <script>
                                setprop(
                                    "controls/ice/windscreen/backup-serviceable",
                                    !getprop("controls/ice/windscreen/backup-serviceable")
                                );

                                if (getprop("controls/ice/windscreen/backup-serviceable") == 0)
                                    setprop("controls/ice/windscreen/backup-legend", "FAILED");
                                else
                                    setprop("controls/ice/windscreen/backup-legend", "AVAILABLE");
                            </script>
                        </binding>
                    </button>
                </group>
            </group>

            <vrule />

            <group>
                <layout>vbox</layout>

                <!-- Engine 1 -->
                <group>
                    <layout>vbox</layout>
                    <text>
                        <label>Engine 1</label>
                    </text>

                    <text>
                        <property>controls/ice/eng1/legend</property>
                        <live>true</live>
                        <halign>center</halign>
                    </text>

                    <button>
                        <legend>Fail system</legend>
                        <padding>1</padding>
                        <binding>
                            <command>nasal</command>
                            <script>
                                setprop(
                                    "controls/ice/eng1/serviceable",
                                    !getprop("controls/ice/eng1/serviceable")
                                );

                                if (getprop("controls/ice/eng1/serviceable") == 0)
                                    setprop("controls/ice/eng1/legend", "FAILED");
                                else
                                    setprop("controls/ice/eng1/legend", "AVAILABLE");
                            </script>
                        </binding>
                    </button>
                </group>

                <!-- Engine 2 -->
                <group>
                    <layout>vbox</layout>
                    <text>
                        <label>Engine 2</label>
                    </text>

                    <text>
                        <property>controls/ice/eng2/legend</property>
                        <live>true</live>
                        <halign>center</halign>
                    </text>

                    <button>
                        <legend>Fail system</legend>
                        <padding>1</padding>
                        <binding>
                            <command>nasal</command>
                            <script>
                                setprop(
                                    "controls/ice/eng2/serviceable",
                                    !getprop("controls/ice/eng2/serviceable")
                                );

                                if (getprop("controls/ice/eng2/serviceable") == 0)
                                    setprop("controls/ice/eng2/legend", "FAILED");
                                else
                                    setprop("controls/ice/eng2/legend", "AVAILABLE");
                            </script>
                        </binding>
                    </button>
                </group>
            </group>

            <vrule />

            <group>
                <layout>vbox</layout>

                <!-- Wing -->
                <group>
                    <layout>vbox</layout>
                    <text>
                        <label>Wing</label>
                    </text>

                    <text>
                        <property>controls/ice/wing/legend</property>
                        <live>true</live>
                        <halign>center</halign>
                    </text>

                    <button>
                        <legend>Fail system</legend>
                        <padding>1</padding>
                        <binding>
                            <command>nasal</command>
                            <script>
                                    setprop(
                                        "controls/ice/wing/serviceable",
                                        !getprop("controls/ice/wing/serviceable")
                                    );

                                    if (getprop("controls/ice/wing/serviceable") == 0)
                                        setprop("controls/ice/wing/legend", "FAILED");
                                    else
                                        setprop("controls/ice/wing/legend", "AVAILABLE");
                            </script>
                        </binding>
                    </button>
                </group>

                <!-- Probes -->
                <group>
                    <layout>vbox</layout>
                    <text>
                        <label>Probes</label>
                    </text>

                    <text>
                        <property>controls/ice/probes/legend</property>
                        <live>true</live>
                        <halign>center</halign>
                    </text>

                    <button>
                        <legend>Fail system</legend>
                        <padding>1</padding>
                        <binding>
                            <command>nasal</command>
                            <script>
                                setprop(
                                    "controls/ice/probes/serviceable",
                                    !getprop("controls/ice/probes/serviceable")
                                );

                                if (getprop("controls/ice/probes/serviceable") == 0)
                                    setprop("controls/ice/probes/legend", "FAILED");
                                else
                                    setprop("controls/ice/probes/legend", "AVAILABLE");
                            </script>
                        </binding>
                    </button>
                </group>
            </group>
        </group>

        <hrule />

        <text>
            <label>Hydraulic System Failures</label>
        </text>

        <group>
            <layout>hbox</layout>

            <checkbox>
                <label>Fail Left System</label>
                <property>controls/hydraulic/fail/system0</property>
                <binding>
                    <command>dialog-apply</command>
                </binding>
                <live>true</live>
            </checkbox>

            <checkbox>
                <label>Fail Central System</label>
                <property>controls/hydraulic/fail/system2</property>
                <binding>
                    <command>dialog-apply</command>
                </binding>
                <live>true</live>
            </checkbox>

            <checkbox>
                <label>Fail Right System</label>
                <property>controls/hydraulic/fail/system1</property>
                <binding>
                    <command>dialog-apply</command>
                </binding>
                <live>true</live>
            </checkbox>

        </group>

        <hrule />

        <text>
            <label>Hydraulic Pump Failures</label>
        </text>

        <group>
            <layout>hbox</layout>

            <group>
                <layout>vbox</layout>

                <text>
                    <label>E1 Engine Pump</label>
                </text>

                <button>
                    <legend>Overheat</legend>
                    <padding>1</padding>
                    <binding>
                        <command>nasal</command>
                        <script>
							setprop("/controls/pneumatic/temp/hyd-sys0-eng", 80);
						</script>
                    </binding>
                </button>

                <button>
                    <legend>Fault</legend>
                    <padding>1</padding>
                    <binding>
                        <command>nasal</command>
                        <script>
							setprop("/controls/pneumatic/temp/hyd-sys0-eng", 150);
						</script>
                    </binding>
                </button>

            </group>

            <vrule />

            <group>
                <layout>vbox</layout>

                <text>
                    <label>C1 Electric Pump</label>
                </text>

                <button>
                    <legend>Overheat</legend>
                    <padding>1</padding>
                    <binding>
                        <command>nasal</command>
                        <script>
							setprop("/controls/pneumatic/temp/hyd-sys2-elec", 80);
						</script>
                    </binding>
                </button>

                <button>
                    <legend>Fault</legend>
                    <padding>1</padding>
                    <binding>
                        <command>nasal</command>
                        <script>
							setprop("/controls/pneumatic/temp/hyd-sys2-elec", 150);
						</script>
                    </binding>
                </button>

            </group>

            <vrule />

            <group>
                <layout>vbox</layout>

                <text>
                    <label>C2 Electric Pump</label>
                </text>

                <button>
                    <legend>Overheat</legend>
                    <padding>1</padding>
                    <binding>
                        <command>nasal</command>
                        <script>
							setprop("/controls/pneumatic/temp/hyd-sys3-elec", 80);
						</script>
                    </binding>
                </button>

                <button>
                    <legend>Fault</legend>
                    <padding>1</padding>
                    <binding>
                        <command>nasal</command>
                        <script>
							setprop("/controls/pneumatic/temp/hyd-sys3-elec", 150);
						</script>
                    </binding>
                </button>

            </group>

            <vrule />

            <group>
                <layout>vbox</layout>

                <text>
                    <label>E2 Engine Pump</label>
                </text>

                <button>
                    <legend>Overheat</legend>
                    <padding>1</padding>
                    <binding>
                        <command>nasal</command>
                        <script>
							setprop("/controls/pneumatic/temp/hyd-sys1-eng", 80);
						</script>
                    </binding>
                </button>

                <button>
                    <legend>Fault</legend>
                    <padding>1</padding>
                    <binding>
                        <command>nasal</command>
                        <script>
							setprop("/controls/pneumatic/temp/hyd-sys1-eng", 150);
						</script>
                    </binding>
                </button>

            </group>

        </group>

        <hrule />

        <text>
            <label>Fuel Pump Failures</label>
        </text>

        <group>
            <layout>hbox</layout>

            <group>
                <layout>vbox</layout>

                <text>
                    <label>Left Pump</label>
                </text>

                <button>
                    <legend>Overheat</legend>
                    <padding>1</padding>
                    <binding>
                        <command>nasal</command>
                        <script>
							setprop("/controls/pneumatic/temp/fuel-pump-left", 170);
						</script>
                    </binding>
                </button>

                <button>
                    <legend>Fault</legend>
                    <padding>1</padding>
                    <binding>
                        <command>nasal</command>
                        <script>
							setprop("/controls/pneumatic/temp/fuel-pump-left", 220);
						</script>
                    </binding>
                </button>

            </group>

            <vrule />

            <group>
                <layout>vbox</layout>

                <text>
                    <label>Center Pump</label>
                </text>

                <button>
                    <legend>Overheat</legend>
                    <padding>1</padding>
                    <binding>
                        <command>nasal</command>
                        <script>
							setprop("/controls/pneumatic/temp/fuel-pump-center", 170);
						</script>
                    </binding>
                </button>

                <button>
                    <legend>Fault</legend>
                    <padding>1</padding>
                    <binding>
                        <command>nasal</command>
                        <script>
							setprop("/controls/pneumatic/temp/fuel-pump-center", 220);
						</script>
                    </binding>
                </button>

            </group>

            <vrule />

            <group>
                <layout>vbox</layout>

                <text>
                    <label>Right Pump</label>
                </text>

                <button>
                    <legend>Overheat</legend>
                    <padding>1</padding>
                    <binding>
                        <command>nasal</command>
                        <script>
							setprop("/controls/pneumatic/temp/fuel-pump-right", 170);
						</script>
                    </binding>
                </button>

                <button>
                    <legend>Fault</legend>
                    <padding>1</padding>
                    <binding>
                        <command>nasal</command>
                        <script>
							setprop("/controls/pneumatic/temp/fuel-pump-right", 220);
						</script>
                    </binding>
                </button>

            </group>

        </group>

        <hrule />

        <button>
            <legend>Close</legend>
            <default>true</default>
            <key>Esc</key>
            <padding>1</padding>
            <binding>
                <command>dialog-apply</command>
            </binding>
            <binding>
                <command>dialog-close</command>
            </binding>
        </button>

    </group>

</PropertyList>
