<?xml version="1.0" encoding="UTF-8"?>

<!-- Put anything common between all -sets here -->

<PropertyList>
    
    <sim n="0">
        <systems>
            <autopilot>
                <name>IT-AUTOFLIGHT</name>
                <path>Aircraft/787-family/Systems/it-autoflight.xml</path>
            </autopilot>
            <autopilot>
                <name>IT-AUTOTHRUST</name>
                <path>Aircraft/787-family/Systems/it-autothrust.xml</path>
            </autopilot>
            <autopilot>
                <name>Gear AGL FT</name>
                <path>Aircraft/787-family/Systems/gear-agl-ft.xml</path>
            </autopilot>

            <autopilot>
                <name>Spoilers</name>
                <path>Aircraft/787-family/Systems/b787-spoilers.xml</path>
            </autopilot>
            
            <!-- Wing Flexer -->
            <wingflexer include="Systems/wingflexer-params.xml"/>
            <property-rule n="100">
                <name>wing flexer property rule</name>
                <path>Aircraft/Generic/wingflexer.xml</path>
            </property-rule>
        </systems>
        <flight-recorder>
            <replay-config type="int">0</replay-config>
            <config n="0" include="/Aircraft/Generic/flightrecorder/generic-jet.xml">
                <name type="string">787 Flight Recorder</name>
                <!-- Add custom properties here -->
                <signal>
                    <type>float</type>
                    <property type="string">/controls/gear/nosegear-steering-cmd-norm</property>
                    <interpolation>linear</interpolation>
                </signal>
                <signal>
                    <type>float</type>
                    <property type="string">/gear/gear/steering-norm</property>
                    <interpolation>linear</interpolation>
                </signal>
                <signal>
                    <type>float</type>
                    <property type="string">/gear/gear[0]/tyre-smoke</property>
                    <interpolation>linear</interpolation>
                </signal>
                <signal>
                    <type>float</type>
                    <property type="string">/gear/gear[1]/tyre-smoke</property>
                    <interpolation>linear</interpolation>
                </signal>
                <signal>
                    <type>float</type>
                    <property type="string">/gear/gear[2]/tyre-smoke</property>
                    <interpolation>linear</interpolation>
                </signal>
                <signal>
                    <type>float</type>
                    <property type="string">/engines/engine/reverser-pos-norm</property>
                    <interpolation>linear</interpolation>
                </signal>
                <signal>
                    <type>float</type>
                    <property type="string">/engines/engine[1]/reverser-pos-norm</property>
                    <interpolation>linear</interpolation>
                </signal>
                <signal>
                    <type>float</type>
                    <property type="string">/sim/systems/wingflexer/</property>
                    <interpolation>linear</interpolation>
                </signal>
                <signal>
                    <type>float</type>
                    <property type="string">/sim/systems/wingflexer/params/</property>
                    <interpolation>linear</interpolation>
                </signal>
                <signal>
                    <type>float</type>
                    <property type="string">/sim/systems/wingflexer/z-m</property>
                    <interpolation>linear</interpolation>
                </signal>
				<signal>
                    <type>double</type><property>systems/shake/shaking</property>
               </signal>
            </config>
        </flight-recorder>
    </sim>
    
    <it-autoflight>
        <config>
            <roll>
                <kp-low>0.18</kp-low> <!-- Kp at low speed -->
                <kp-high>0.09</kp-high> <!-- Kp at high speed -->
                <ti>1.0</ti>
                <td>0.0001</td>
            </roll>
            <pitch>
                <kp-low>-0.17</kp-low> <!-- Kp at low speed -->
                <kp-high>-0.07</kp-high> <!-- Kp at high speed -->
                <ti>0.5</ti>
                <td>0.001</td>
            </pitch>
            <cmd>
                <roll>1.6</roll>
                <alt-gain>-5</alt-gain>
            </cmd>
            <autoland> 
                <pitch-kp>0.0051</pitch-kp>
                <yaw-kp>-0.05</yaw-kp>
            </autoland>
            <rollout>
                <roll-kp>-0.1</roll-kp>
                <pitch-nose>0.1</pitch-nose>
                <pitch-rate>-1.5</pitch-rate>
                <yaw-kp>-0.02</yaw-kp>
            </rollout>
        </config>
        <settings>
            <autoland-without-ap>0</autoland-without-ap> <!-- Engage LAND and FLARE Modes even if the AP is off -->
            <auto-bank-max-deg>30</auto-bank-max-deg> <!-- Maximum Auto Bank Limit -->
            <autothrottle-max>0.95</autothrottle-max> <!-- Thrust Max Limit Normalized -->
            <autothrottle-min>0.02</autothrottle-min> <!-- Thrust Low Limit Normalized -->
            <custom-fma>0</custom-fma> <!-- Call functions when modes change for a custom FMA to be implemented --> 
            <disable-final>0</disable-final> <!-- Disable the Final Controllers, for custom FCS integration -->
            <hdg-hld-separate>0</hdg-hld-separate> <!-- Separates the HDG HLD mode from the HDG SEL mode -->
            <land-enable>1</land-enable> <!-- Enable/Disable Autoland -->
            <land-flap>0.7</land-flap> <!-- Minimum Flap used for Landing -->
            <lat-agl-ft>50</lat-agl-ft> <!-- AGL when LNAV becomes active if armed -->
            <reduc-agl-ft>1500</reduc-agl-ft> <!-- AGL when T/O CLB changes to SPD CLB (FLCH), set to 0 to disable -->
            <retard-enable>1</retard-enable> <!-- AGL to Thrust Retard -->
            <retard-ft>50</retard-ft> <!-- Enable Thrust Retard -->
            <togaspd>160</togaspd> <!-- V2 + 10kts -->
        </settings>
    </it-autoflight>

</PropertyList>
